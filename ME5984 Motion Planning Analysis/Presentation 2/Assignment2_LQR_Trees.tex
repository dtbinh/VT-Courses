\documentclass{beamer}

%\usefonttheme{professionalfonts} % using non standard fonts for beamer
%\usefonttheme{serif} % default family is serif
%\usepackage{fontspec}
%\setmainfont{Liberation Serif}

\mode<presentation> {
\usetheme{Malmoe} 
\usecolortheme{beaver} 
}

\usepackage{graphicx} 
\usepackage{booktabs} 
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage[colorinlistoftodos]{todonotes}
\usepackage{hyperref}
\usepackage{multimedia}
\usepackage{media9}
\usepackage{tikz}
\usetikzlibrary{calc,positioning}
\usepackage{xcolor}
\hypersetup{
    colorlinks=true,       
    linkcolor=blue,          
    citecolor=blue,        
    urlcolor=blue           
}
%----------------------------------------------------------------------------------------
%	TITLE PAGE
%----------------------------------------------------------------------------------------

\title[CPS]{\textcolor{black}{{LQR-Trees \cite{p1}}}} 
\subtitle[]{}

\author{George Kontoudis, Shriya Shah}
\institute[VT] 
{
ME5984 Motion Planning Analysis\\
Spring 2017\\
\medskip
\it{Mechanical Engineering Department, Virginia Tech} 
}
\date{\today}

\setbeamertemplate{footline}[text line]{%
  \parbox{\linewidth}{\vspace*{-8pt}\today 
  \hfill\insertshortsubtitle
  \hfill\insertpagenumber}}
\setbeamertemplate{navigation symbols}{}

\begin{document}

\begin{frame}[plain]
\titlepage 
\end{frame}

\begin{frame}
\frametitle{Outline} 
\tableofcontents 
\end{frame}

%----------------------------------------------------------------------------------------
%	PRESENTATION SLIDES
%----------------------------------------------------------------------------------------
%------------------------------------------------
\section{Motivation}
%------------------------------------------------

\begin{frame}
\frametitle{Motivation}
\begin{itemize}
\item Evaluate regions of stability for nonlinear systems \vspace{0.2cm}
\item  \vspace{0.2cm}
\item  \vspace{0.2cm}
\item  \vspace{0.2cm}
\end{itemize}
\end{frame}

%------------------------------------------------
\section{Direct Computation of Lyapunov Functions}
%------------------------------------------------

\begin{frame}
\frametitle{Lyapunov Functions}
For a given dynamical system
\begin{equation*}
\dot{x} = f(x), \vspace{.2cm} f(0)=0
\end{equation*} 
a Lyapunov function is $V(x)$, $V\in C$ where
\begin{itemize}
\item $V(x)>0$, positive definite \vspace{0.2cm}
\item $\dot{V}(x)=\frac{dV}{dx} \frac{dx}{dt}<0$, negative definite \vspace{0.2cm}
\end{itemize}
If conditions met in some state space ball $B_r$, then origin is a.s.

\end{frame}

%------------------------------------------------

\begin{frame}
\frametitle{Sums of Squares}
We want to check inequalities using sums-of-squares (SoS) method \vspace{.2cm}

For a given polynomial $x^4+2x^3+3x^2-2x+2 \geq 0, \hspace{.2cm} \forall x \in \mathbb{R}$, we can employ SoS
\begin{equation*}
x^4+2x^3+3x^2-2x+2= \begin{bmatrix}
1\\
x\\
x^2
\end{bmatrix}^{\intercal} \begin{bmatrix}
2 & -1 & 0\\
-1 & 3 & 1\\
0 & 1 & 1
\end{bmatrix} \begin{bmatrix}
1\\
x\\
x^2
\end{bmatrix} = X^{\intercal}AX
\end{equation*}

The eigenvalues of A are $\lambda_1=3.88$, $\lambda_2=1.65$, $\lambda_1=0.47$, so the inequality stands $\forall x \in \mathbb{R}$

\end{frame}

%------------------------------------------------

\begin{frame}
\frametitle{Sums of Squares Properties}
The general structure of (SoS) for a 4-$th$ order polynomial is \vspace{.2cm}

\begin{equation*}
fx^4+2ex^3+(d+2c)x^2+2bx+a= \begin{bmatrix}
1\\
x\\
x^2
\end{bmatrix}^{\intercal} \begin{bmatrix}
a & b & c\\
b & d & e\\
c & e & f
\end{bmatrix} \begin{bmatrix}
1\\
x\\
x^2
\end{bmatrix}
\end{equation*}

\begin{itemize}
\item Extend to multivariable polynomials
\item Check non-negativity by searching positive semidefinite matrix
\end{itemize}
\end{frame}

%------------------------------------------------

\begin{frame}
\frametitle{Feedback Synthesis by SoS Optimization}
Given a system $\dot{x} = f(x) + g(x)u$ we want to simultaneously generate
\begin{itemize}
\item Feedback control law $u=\pi (x)$
\item Lyapunov fcn $V(x)$, s.t.  $V(x)>0$, $\dot{V}(x)=\frac{\partial V}{\partial x}\frac{\partial x}{\partial t}=\frac{\partial V}{\partial x}\dot{x}$ be negative definite \vspace{.2cm}
\end{itemize}
BUT, this is a difficult problem as the set of $V(x)$, $\pi(x)$ may not be convex sets
\begin{itemize}
\item Rely on LQR synthesis \vspace{.2cm}
\item Design a series of locally-valid controllers \vspace{.2cm}
\item Compose these controllers utilizing feedback motion planning
\end{itemize}
\end{frame}

%------------------------------------------------
\section{Linear Feedback Design and Verification}
%------------------------------------------------

\begin{frame}
\frametitle{Non-linear System}
\begin{itemize}
\item For a given non-linear dynamical system
\begin{equation*}
\dot{x} = f(x,u), \hspace{.2cm} x\in \mathbb{R}^n, \hspace{.2cm} u\in \mathbb{R}^m 
\end{equation*} 
\item Set goal state $x_G$, where $f(x_G,u_G)=0$, and $\bar{x}=x-x_G$, $\bar{u}=u-u_G$
\item Linearize around ($x_G, u_G$), $\bar{x}\approx A\bar{x}(t)+B\bar{u}(t)$ 
\item Define infinite horizon LQR minimum energy cost-to-go fcn
\begin{equation*}
J(\bar{x}^{\prime})= \int_0^{\infty} [ \bar{x}^{\intercal}(t)Q\bar{x}(t)+\bar{u}^{\intercal}(t)R\bar{u}(t)]dt,
\end{equation*}
\begin{equation*}
Q=Q^{\intercal}\geq 0, R=R^{\intercal}> 0, \bar{x}(0)=\bar{x}^{\prime}
\end{equation*}
\end{itemize}
\end{frame}

%------------------------------------------------

\begin{frame}
\frametitle{Stabilizing Goal State}
\begin{itemize}
\item Solution of inf horizon LQR problem results the optimal cost
\begin{equation*}
J^{\ast}(\bar{x})=\bar{x}^{\intercal}S\bar{x}
\end{equation*} 
\item S is a positive definite matrix, w/ the solution given from ARE
\begin{equation*}
0=Q-SBR^{-1}B^{\intercal}S+SA+A^{\intercal}S
\end{equation*}
\item The optimal feedback closed loop control policy is given
\begin{equation*}
\bar{u}^{\ast}=-R^{-1}B^{\intercal}S\bar{x}=-Kx
\end{equation*}
\end{itemize}
\end{frame}


%------------------------------------------------
\subsection{Time-Invariant LQR Verification}

\begin{frame}
\frametitle{Time-Invariant LQR Verification}

\end{frame}

%------------------------------------------------








%----------------------------------------------

\subsection{Conclusions}
\begin{frame}
\frametitle{Conclusions}

\begin{itemize}
\item 
\end{itemize}
\end{frame}
%----------------------------------------------

\subsection{Summary}

\begin{frame}
\frametitle{Summary}

\begin{itemize}
\item 
\end{itemize}

\end{frame}

%------------------------------------------------
\section{References}
%------------------------------------------------

\begin{frame}
\frametitle{References}
\footnotesize{
\begin{thebibliography}{99} % Beamer does not support BibTeX so references must be inserted manually as below

%@article{tedrake2010lqr,
%  title={LQR-trees: Feedback motion planning via sums-of-squares verification},
%  author={Tedrake, Russ and Manchester, Ian R and Tobenkin, Mark and Roberts, John W},
%  journal={The International Journal of Robotics Research},
%  volume={29},
%  number={8},
%  pages={1038--1052},
%  year={2010},
%  publisher={SAGE Publications Sage UK: London, England}
%}

\bibitem[Tedrake, 2010]{p1} Tedrake Russ, Manchester Ian, Tobenkin Mark and Roberts John
\newblock LQR-trees: Feedback motion planning via sums-of-squares verification
\newblock \emph{International Journal of Robotics Researchs, 1038--1052, SAGE Publications}, 2010.

\end{thebibliography}
}
\end{frame}

%------------------------------------------------
\section{}
\begin{frame}
\begin{center}
\Huge {Thank You!}
\end{center}
\end{frame}

%----------------------------------------------------------------------------------------

\end{document} 